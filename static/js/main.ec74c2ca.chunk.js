(this["webpackJsonpreact-ui"]=this["webpackJsonpreact-ui"]||[]).push([[0],{37:function(e,t,a){e.exports=a(55)},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},55:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),o=a(20),r=a.n(o);a(42),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(43);var c=a(3),l=a(16),i=a(17),m=a(19),u=a(18),d=(a(44),a(22)),h=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={ws:new WebSocket(n.props.url,n.props.protocol),attempts:1},n.sendMessage=n.sendMessage.bind(Object(d.a)(n)),n.setupWebsocket=n.setupWebsocket.bind(Object(d.a)(n)),n}return Object(i.a)(a,[{key:"logging",value:function(e){!0===this.props.debug&&console.log(e)}},{key:"generateInterval",value:function(e){return this.props.reconnectIntervalInMilliSeconds>0?this.props.reconnectIntervalInMilliSeconds:1e3*Math.min(30,Math.pow(2,e)-1)}},{key:"setupWebsocket",value:function(){var e=this,t=this.state.ws;t.onopen=function(){e.logging("Websocket connected"),"function"===typeof e.props.onOpen&&e.props.onOpen()},t.onmessage=function(t){console.log(t.data),e.props.onMessage(t.data)},this.shouldReconnect=this.props.reconnect,t.onclose=function(){if(e.logging("Websocket disconnected"),"function"===typeof e.props.onClose&&e.props.onClose(),e.shouldReconnect){var t=e.generateInterval(e.state.attempts);e.timeoutID=setTimeout((function(){e.setState({attempts:e.state.attempts+1}),e.setState({ws:new WebSocket(e.props.url,e.props.protocol)}),e.setupWebsocket()}),t)}},t.onerror=function(a){console.log("++++++++++++++++++"),console.log("ERROR WS: ",t.readyState),console.log(e.props.url),console.log("++++++++++++++++++")}}},{key:"componentDidMount",value:function(){this.setupWebsocket()}},{key:"componentWillUnmount",value:function(){this.shouldReconnect=!1,clearTimeout(this.timeoutID),this.state.ws.close()}},{key:"sendMessage",value:function(e){var t=this.state.ws;e=JSON.stringify(e),t.send(e)}},{key:"render",value:function(){return s.a.createElement(n.Fragment,null)}}]),a}(s.a.Component);h.defaultProps={debug:!1,reconnect:!0};var g=h,p=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleData=function(e){console.log("Data received"),console.log(e)},n.handleOpen=function(){console.log("Connected to Server")},n.handleClose=function(){console.log("Disconnected from Server")},n.sendMessage=function(e){n.refWebSocket.sendMessage(e)},n.SERVER_URL="ws://localhost:43968/example_ws/echo-example",n}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"WebSocketExample"},s.a.createElement("button",{onClick:function(){return e.sendMessage("Hello World!")}},"Send Message"),s.a.createElement(g,{url:this.SERVER_URL,onMessage:this.handleData,onOpen:this.handleOpen,onClose:this.handleClose,reconnect:!0,debug:!0,ref:function(t){e.refWebSocket=t}}))}}]),a}(s.a.Component);a(45);var v=function(){return s.a.createElement("div",{className:"NoMatch"},"Sorry, this page doesn't exist. Click Here to Go Back Home.")},f=a(76),E=(a(46),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(l.a)(this,a),t.call(this,e)}return Object(i.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"Home"},"HOME PAGE")}}]),a}(n.Component)),b=a(34),k=(a(47),a(74)),C=a(75),w=a(77),P=a(33),y=a.n(P),N=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleData=function(e){console.log("Data received"),e=JSON.parse(e),console.log(e),n.setState({data:e.ui,network:e.network})},n.processData=function(e){for(var t=[],a=0,s=Object.entries(e);a<s.length;a++){var o=Object(b.a)(s[a],2),r=o[0],c=o[1];t.push(n.createRow(r,c.icon,[c.mouse_usage,c.keyboard_usage,c.idle,c.open]))}return t},n.handleOpen=function(){console.log("Connected to Server"),n.sendMessage("Fetching UI Data"),setInterval((function(){n.sendMessage("Fetching UI Data")}),3e5)},n.handleClose=function(){console.log("Disconnected from Server")},n.sendMessage=function(e){n.refWebSocket.sendMessage(e)},n.SERVER_URL="ws://localhost:43968/example_ws/echo-example",n.state={data:{},network:{}},n}return Object(i.a)(a,[{key:"createLegend",value:function(){return s.a.createElement(k.a,{container:!0,direction:"row",style:{padding:"5px",marginBottom:"5px"}},s.a.createElement("div",{className:"ChartPage-RowBegin"},s.a.createElement("div",{className:"ChartPage-ItemTitle"},"Legend")),s.a.createElement("div",{className:"ChartPage-Row"},s.a.createElement("div",{className:"ChartPage-ItemPercentsParent"},s.a.createElement("div",{className:"ChartPage-ItemPercents",style:{width:"25%",backgroundColor:"#29B6F6"}},"Mouse Usage In Min"),s.a.createElement("div",{className:"ChartPage-ItemPercents",style:{width:"25%",backgroundColor:"#F9A825"}},"Keyboard Usage In Min"),s.a.createElement("div",{className:"ChartPage-ItemPercents",style:{width:"25%",backgroundColor:"#4CAF50"}},"Idle Time In Min"),s.a.createElement("div",{className:"ChartPage-ItemPercents",style:{width:"25%",backgroundColor:"#f44336"}},"Open Time In Min"))))}},{key:"createRow",value:function(e,t,a){return s.a.createElement(k.a,{container:!0,direction:"row",style:{padding:"5px"},key:e},s.a.createElement("div",{className:"ChartPage-RowBegin"},s.a.createElement("img",{style:{width:"50px",height:"50px"},src:"static/icons/"+t}),s.a.createElement("div",{className:"ChartPage-ItemTitle"},e)),s.a.createElement("div",{className:"ChartPage-Row"},s.a.createElement("div",{className:"ChartPage-ItemPercentsParent"},s.a.createElement("div",{className:"ChartPage-ItemPercents",style:{width:"25%",backgroundColor:"#29B6F6"}},a[0]),s.a.createElement("div",{className:"ChartPage-ItemPercents",style:{width:"25%",backgroundColor:"#F9A825"}},a[1]),s.a.createElement("div",{className:"ChartPage-ItemPercents",style:{width:"25%",backgroundColor:"#4CAF50"}},a[2]),s.a.createElement("div",{className:"ChartPage-ItemPercents",style:{width:"25%",backgroundColor:"#f44336"}},a[3]))))}},{key:"render",value:function(){var e=this;return s.a.createElement(C.a,{className:"ChartPage"},this.createLegend(),s.a.createElement("div",{className:"ChartPage-Scroll"},this.processData(this.state.data)),s.a.createElement(k.a,{container:!0,direction:"row"},s.a.createElement("div",{className:"ChartPage-UserDetails"},s.a.createElement("div",{className:"ChartPage-UserDetails-Title"},"User Details:"),s.a.createElement("div",{className:"ChartPage-UserDetails-Text"},"Username: ",this.state.network.username),s.a.createElement("div",{className:"ChartPage-UserDetails-Text"},"Home Directory: ",this.state.network.homedir),s.a.createElement("div",{className:"ChartPage-UserDetails-Text"},"Wifi SSID: ",this.state.network.wifi_info),s.a.createElement("div",{className:"ChartPage-UserDetails-Text"},"Hostname: ",this.state.network.hostname),s.a.createElement("div",{className:"ChartPage-UserDetails-Text"},"IP Address: ",this.state.network.ip_address),s.a.createElement("div",{className:"ChartPage-UserDetails-Text"},"Mac Address: ",this.state.network.mac_address)),s.a.createElement("div",{className:"GenerateDiagram"},s.a.createElement(w.a,{variant:"contained",color:"primary",size:"large",className:"",startIcon:s.a.createElement(y.a,null),onClick:function(){return e.sendMessage("GenerateDiagram")}},"Generate Business Process Flow"))),s.a.createElement(g,{url:this.SERVER_URL,onMessage:this.handleData,onOpen:this.handleOpen,onClose:this.handleClose,reconnect:!0,debug:!0,ref:function(t){e.refWebSocket=t}}))}}]),a}(n.Component);var O=function(){return s.a.createElement(n.Fragment,null,s.a.createElement(f.a,null),s.a.createElement("div",{className:"App"},s.a.createElement(c.c,null,s.a.createElement(c.a,{exact:!0,path:"/",component:N}),s.a.createElement(c.a,{exact:!0,path:"/home",component:E}),s.a.createElement(c.a,{exact:!0,path:"/example",component:p}),s.a.createElement(c.a,{component:v}))))},I=a(27);r.a.render(s.a.createElement(I.a,null,s.a.createElement(O,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[37,1,2]]]);
//# sourceMappingURL=main.ec74c2ca.chunk.js.map